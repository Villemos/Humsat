<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="
       http://www.springframework.org/schema/beans 
       http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
       http://www.springframework.org/schema/context 
       http://www.springframework.org/schema/context/spring-context-2.5.xsd
       http://camel.apache.org/schema/spring
       http://camel.apache.org/schema/spring/camel-spring.xsd">


	<!-- Locks -->
	<!-- TODO Lock state for the release time. -->
	
	
	<!-- Commands -->

	<!-- DEPLOY PAYLOAD -->
	<bean id="deploy.payload" class="com.logica.hummingbird.type.CommandDefinition">
		<constructor-arg index="0" value="Set Transmitter State"/>
		<constructor-arg index="1" value="Will deploy the payload."/>
		<constructor-arg index="2"><list></list></constructor-arg>
		<constructor-arg index="3"><list></list></constructor-arg>
		<constructor-arg index="4">
			<list>
			 	<ref bean="deploypayload.check.disable"/>
		 	 	<ref bean="deploypayload.check.limit"/>
	 	 	 	<ref bean="deploypayload.check.enable"/>
			</list>
		</constructor-arg>
	</bean>

	<!-- long deltaTime, String name, String stateOff, Boolean value, String description, String unit -->
	<bean id="deploypayload.check.disable" class="com.logica.hummingbird.tasks.actions.SetStateParameter">
		<constructor-arg index="0" value="0"/>
		<constructor-arg index="1" value="State of Deploy Payload Limit Switch"/>
		<constructor-arg index="2" value=""/>
		<constructor-arg index="3" value="false"/>
		<constructor-arg index="4" value=""/>
		<constructor-arg index="5" value=""/>
	</bean>

	<bean id="deploypayload.check.limit" class="com.logica.hummingbird.tasks.actions.SetParameter">
		<constructor-arg index="0" value="1000"/>
		<constructor-arg index="1" value="State of Deploy Payload Limit"/>
		<constructor-arg index="2" ref="deploypayload.initial.value"/>
		<constructor-arg index="3" value="java.lang.Boolean"/>
		<constructor-arg index="4" value=""/>
		<constructor-arg index="5" value=""/>
	</bean>

	<bean id="deploypayload.initial.value" class="java.lang.Boolean">
		<constructor-arg index="0" value="false"/>		
	</bean> 

	<bean id="deploypayload.check.enable" class="com.logica.hummingbird.tasks.actions.SetStateParameter">
		<constructor-arg index="0" value="5000"/>
		<constructor-arg index="1" value="State of Deploy Payload Limit Switch"/>
		<constructor-arg index="2" value=""/>
		<constructor-arg index="3" value="true"/>
		<constructor-arg index="4" value=""/>
		<constructor-arg index="5" value=""/>
	</bean>





	<!-- PAYLOAD STATE -->
	<bean id="set.payload.state" class="com.logica.hummingbird.type.CommandDefinition">
		<constructor-arg index="0" value="Set Payload State"/>
		<constructor-arg index="1" value="Turns the payload on or off."/>
		<constructor-arg index="2">
			<list>
       		 	<ref bean="payloadstate.argument"/>
    	  	</list>		
		</constructor-arg>
		<constructor-arg index="3"><list></list></constructor-arg>
		<constructor-arg index="4">
			<list>
			 	<ref bean="payloadstate.check.disable"/>
		 	 	<ref bean="payloadstate.check.limit"/>
	 	 	 	<ref bean="payloadstate.check.enable"/>
			</list>
		</constructor-arg>
	</bean>

	<bean id="payloadstate.argument" class="com.logica.hummingbird.type.Argument">
		<constructor-arg index="0" value="New Payload State"/>
		<constructor-arg index="1" value="The state of the payload to be set.."/>
		<constructor-arg index="2" value="java.lang.Double"/>
		<constructor-arg index="3" value="1"/>
		<constructor-arg index="4" value=""/>
		<constructor-arg index="5"><null/></constructor-arg>	
	</bean>

	<bean id="payloadstate.check.disable" class="com.logica.hummingbird.tasks.actions.SetStateParameter">
		<constructor-arg index="0" value="0"/>
		<constructor-arg index="1" value="State of Payload Limit Switch"/>
		<constructor-arg index="2" value=""/>
		<constructor-arg index="3" value="false"/>
		<constructor-arg index="4" value=""/>
		<constructor-arg index="5" value=""/>
	</bean>

	<!-- long deltaTime, String name, Object value, String clazz, String description, String unit, String commandArgumentName -->
	<bean id="payloadstate.check.limit" class="com.logica.hummingbird.tasks.actions.SetReflectiveParameter">
		<constructor-arg index="0" value="1000"/>
		<constructor-arg index="1" value="State of Payload Limit"/>
		<constructor-arg index="2" ref="payload.initial.value"/>
		<constructor-arg index="3" value="java.lang.Boolean"/>
		<constructor-arg index="4" value="The New Payload State to be set."/>
		<constructor-arg index="5" value=""/>
		<constructor-arg index="6" value="New Payload State"/>
	</bean>

	<bean id="payload.initial.value" class="java.lang.Boolean">
		<constructor-arg index="0" value="false"/>		
	</bean> 

	<bean id="payloadstate.check.enable" class="com.logica.hummingbird.tasks.actions.SetStateParameter">
		<constructor-arg index="0" value="5000"/>
		<constructor-arg index="1" value="State of Payload Limit Switch"/>
		<constructor-arg index="2" value=""/>
		<constructor-arg index="3" value="true"/>
		<constructor-arg index="4" value=""/>
		<constructor-arg index="5" value=""/>
	</bean>





	<!-- TRANSMITTER STATE -->
	<bean id="set.transmitter.state" class="com.logica.hummingbird.type.CommandDefinition">
		<constructor-arg index="0" value="Set Transmitter State"/>
		<constructor-arg index="1" value="Will turn the transmitter on or off."/>
		<constructor-arg index="2">
			<list>
       		 	<ref bean="transmitterstate.argument"/>
    	  	</list>		
		</constructor-arg>
		<constructor-arg index="3"><list></list></constructor-arg>
		<constructor-arg index="4">
			<list>
			 	<ref bean="transmitterstate.check.disable"/>
		 	 	<ref bean="transmitterstate.check.limit"/>
	 	 	 	<ref bean="transmitterstate.check.enable"/>
			</list>
		</constructor-arg>
	</bean>

	<bean id="transmitterstate.argument" class="com.logica.hummingbird.type.Argument">
		<constructor-arg index="0" value="New Transmitter State"/>
		<constructor-arg index="1" value="The state of the transmitter to be set."/>
		<constructor-arg index="2" value="java.lang.Double"/>
		<constructor-arg index="3" value="1"/>
		<constructor-arg index="4" value=""/>
		<constructor-arg index="5"><null/></constructor-arg>	
	</bean>

	<bean id="transmitterstate.check.disable" class="com.logica.hummingbird.tasks.actions.SetStateParameter">
		<constructor-arg index="0" value="0"/>
		<constructor-arg index="1" value="State of Transmitter Limit Switch"/>
		<constructor-arg index="2" value=""/>
		<constructor-arg index="3" value="false"/>
		<constructor-arg index="4" value=""/>
		<constructor-arg index="5" value=""/>
	</bean>

	<bean id="transmitterstate.check.limit" class="com.logica.hummingbird.tasks.actions.SetReflectiveParameter">
		<constructor-arg index="0" value="1000"/>
		<constructor-arg index="1" value="State of Transmitter Limit"/>
		<constructor-arg index="2" ref="transmitterstate.initial.value"/>
		<constructor-arg index="3" value="java.lang.Boolean"/>
		<constructor-arg index="4" value=""/>
		<constructor-arg index="5" value="The new transmitter state to be set."/>
		<constructor-arg index="6" value="New Transmitter State"/>
	</bean>

	<bean id="transmitterstate.initial.value" class="java.lang.Boolean">
		<constructor-arg index="0" value="false"/>		
	</bean> 

	<bean id="transmitterstate.check.enable" class="com.logica.hummingbird.tasks.actions.SetStateParameter">
		<constructor-arg index="0" value="5000"/>
		<constructor-arg index="1" value="State of Transmitter Limit Switch"/>
		<constructor-arg index="2" value=""/>
		<constructor-arg index="3" value="true"/>
		<constructor-arg index="4" value=""/>
		<constructor-arg index="5" value=""/>
	</bean>
	





	<!-- SEND DIAGNOSIS REPORT -->
	<bean id="send.diagnosis.report" class="com.logica.hummingbird.type.CommandDefinition">
		<constructor-arg index="0" value="Send Diagnosis Report"/>
		<constructor-arg index="1" value="The satellite will send a diagnosis report."/>
		<constructor-arg index="2"><list></list></constructor-arg>
		<constructor-arg index="3"><list></list></constructor-arg>
		<constructor-arg index="4"><list></list></constructor-arg>
	</bean>




	<!-- SET TIME -->		
	<bean id="set.time" class="com.logica.hummingbird.type.CommandDefinition">
		<constructor-arg index="0" value="Set Time"/>
		<constructor-arg index="1" value="Sets the onboard time"/>
		<constructor-arg index="2">
			<list>
       		 	<ref bean="argument.time"/>
    	  	</list>
		</constructor-arg>
		<constructor-arg index="3"><list></list></constructor-arg>
		<constructor-arg index="4"><list></list></constructor-arg>
	</bean>

	<bean id="argument.time" class="com.logica.hummingbird.type.Argument">
		<constructor-arg index="0" value="New Satellite Time"/>
		<constructor-arg index="1" value="The time expressed as milliseconds from 1970."/>
		<constructor-arg index="2" value="java.lang.Long"/>
		<constructor-arg index="3" value="64"/>
		<constructor-arg index="4" value="Milliseconds"/>
		<constructor-arg index="5"><null/></constructor-arg>	
	</bean>




	<bean id="definitions" class="java.util.ArrayList">
		<constructor-arg>
			<list>
				<ref bean="deploy.payload"/>
				<ref bean="set.payload.state"/>
				<ref bean="set.transmitter.state"/>
				<ref bean="send.diagnosis.report"/>
				<ref bean="set.time"/>
			</list>
		</constructor-arg>
	</bean>

</beans>
