<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="
       http://www.springframework.org/schema/beans 
       http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
       http://www.springframework.org/schema/context 
       http://www.springframework.org/schema/context/spring-context-2.5.xsd
       http://camel.apache.org/schema/spring 
       http://camel.apache.org/schema/spring/camel-spring.xsd">

	<!-- @TITLE System Test Parameters
		 The system test issues a well defined sequence of parameters. The parameters are defined
		 in detail in @@@.	
		 @CATEGORY System Test
		 @END -->


	<!-- @TITLE Longitude (Humsat Parameter)
		 Simulates the longitude change of Humsat. The longitude is a shifted sinus curve, with a maximal
		 amplitude of 180. It will thus repeatetly move from -180 and 180.
		 
		 To receive the longitude parameter, create a route with the starting point
		 *from("activemq:topic:Parameter?selector=Name='longitude'")*.   		    
		 @CATEGORY System Test Parameters
		 @END
	 -->
	<bean id="longitude" class="com.logica.hummingbird.simpleparametersimulator.SinusCurveParameter">
		<constructor-arg index="0" value="0.000010472"/>
		<constructor-arg index="1" value="180"/>
		<constructor-arg index="2" value="4.71238898"/>
		<constructor-arg index="3" value="0"/>
		<constructor-arg index="4" value="300000"/>
		<constructor-arg index="5" value="longitude"/>
	</bean>

	<!-- @TITLE Latitude (Humsat Parameter)
		 Simulates the latitude change of Humsat. The longitude is a sinus curve, with a maximal
		 amplitude of 30. It will thus occilate from -30 and 30.
		 
		 To receive the latitude parameter, create a route with the starting point
		 *from("activemq:topic:Parameter?selector=Name='latitude'")*.   
		 @CATEGORY System Test Parameters
		 @END
	 -->
	<bean id="latitude" class="com.logica.hummingbird.simpleparametersimulator.SinusCurveParameter">
		<constructor-arg index="0" value="0.000020944"/>
		<constructor-arg index="1" value="30"/>
		<constructor-arg index="2" value="0"/>
		<constructor-arg index="3" value="0"/>
		<constructor-arg index="4" value="300000"/>
		<constructor-arg index="5" value="latitude"/>
	</bean>

	<!-- @TITLE Elevation (Humsat Parameter)
		 Simulates the elevation change of Humsat. The elevation is a sinus curve, with a interception
		 of 300000 meter and a maximal amplitude of 30000. It will thus occilate from 270000 and 330000.
		 
		 To receive the elevation parameter, create a route with the starting point
		 *from("activemq:topic:Parameter?selector=Name='elevation'")*.   
		 @CATEGORY System Test Parameters
		 @END
	 -->
	<bean id="elevation" class="com.logica.hummingbird.simpleparametersimulator.SinusCurveParameter">
		<constructor-arg index="0" value="0.000020944"/>
		<constructor-arg index="1" value="30000"/>
		<constructor-arg index="2" value="0"/>
		<constructor-arg index="3" value="300000"/>
		<constructor-arg index="4" value="300000"/>
		<constructor-arg index="5" value="elevation"/>
	</bean>

	<!-- @TITLE Battery (Humsat Parameter)
		 Simulates the a 'battery' which charges and discharges as a sinus curve. Interception is 50 and 
		 the amplitude is 40. The value will thus occiliate between 90 and 10. 
		 
		 To receive the battery parameter, create a route with the starting point
		 *from("activemq:topic:Parameter?selector=Name='battery'")*.   
		 @CATEGORY System Test Parameters
		 @END
	 -->
	<bean id="battery" class="com.logica.hummingbird.simpleparametersimulator.SinusCurveParameter">
		<constructor-arg index="0" value="0.000020944"/>
		<constructor-arg index="1" value="40"/>
		<constructor-arg index="2" value="0"/>
		<constructor-arg index="3" value="50"/>
		<constructor-arg index="4" value="300000"/>
		<constructor-arg index="5" value="battery"/>
	</bean>

	<!-- @TITLE Valve (Humsat Parameter)
		 Simulates the a 'valve' status which can be either on (1)or off (0). The value is constant, reported
		 every 3000 ms. It is changed through the issue of commands. 
		 
		 To receive the valve parameter, create a route with the starting point
		 *from("activemq:topic:Parameter?selector=Name='valve'")*.   
		 @CATEGORY System Test Parameters
		 @END
	 -->
	<bean id="valve" class="com.logica.hummingbird.simpleparametersimulator.ConstantParameter">
		<constructor-arg index="0" value="0"/>
		<constructor-arg index="1" value="Valve1"/>
	</bean>

	<routeContext id="simulatorRoutes" xmlns="http://camel.apache.org/schema/spring">

		<route>
			<from uri="timer://latitude?fixedRate=true&amp;period=1000" />
			<to uri="bean:latitude?method=process" />
			<to uri="activemq:topic:Parameter" />
		</route>

		<route>
			<from uri="timer://longitude?fixedRate=true&amp;period=1000" />
			<to uri="bean:longitude?method=process" />
			<to uri="activemq:topic:Parameter" />
		</route>

		<route>
			<from uri="timer://elevation?fixedRate=true&amp;period=1000" />
			<to uri="bean:elevation?method=process" />
			<to uri="activemq:topic:Parameter" />
		</route>

		<route>
			<from uri="timer://battery?fixedRate=true&amp;period=1000" />
			<to uri="bean:battery?method=process" />
			<to uri="activemq:topic:Parameter" />
		</route>

		<route>
			<from uri="timer://valve?fixedRate=true&amp;period=1000" />
			<to uri="bean:valve?method=process" />
			<to uri="activemq:topic:Parameter" />
		</route>
		
	</routeContext>
</beans>